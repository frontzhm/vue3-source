# 2.vue3整体架构

## monorepo管理项目



![image-20230516102403228](https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230516102403228.png)



响应式单独来个包

编译单独来个包

相互独立，又能相互引用，也可一起发布、单独发布

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230516102534448.png" alt="image-20230516102534448" style="zoom:50%;" />



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230516104100559.png" alt="image-20230516104100559" style="zoom:50%;" />



## 开发环境搭建

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518095736070.png" alt="image-20230518095736070" style="zoom:50%;" />



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518095822797.png" alt="image-20230518095822797" style="zoom:50%;" />

pnpm是更快速

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518095911844.png" alt="image-20230518095911844" style="zoom:50%;" />



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518095933228.png" alt="image-20230518095933228" style="zoom:50%;" />



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518095944482.png" alt="image-20230518095944482" style="zoom:50%;" />

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518100124275.png" alt="image-20230518100124275" style="zoom:50%;" />



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518100143306.png" alt="image-20230518100143306" style="zoom:50%;" />



每个包有自己的package.json

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518100311717.png" alt="image-20230518100311717" style="zoom:50%;" />

3.2.45

默认依赖放到.pnpm里

如果希望放到node_modules

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518100454152.png" alt="image-20230518100454152" style="zoom:50%;" />



### 搭建开发环境

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518100624433.png" alt="image-20230518100624433" style="zoom:50%;" />



esbuild



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518100740398.png" alt="image-20230518100740398" style="zoom:50%;" />



找到另一包的文件

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518101122526.png" alt="image-20230518101122526" style="zoom:50%;" />



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518101135993.png" alt="image-20230518101135993" style="zoom:50%;" />



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518101211710.png" alt="image-20230518101211710" style="zoom:50%;" />

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518101333336.png" alt="image-20230518101333336" style="zoom:50%;" />



baseUrl

<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518101433042.png" alt="image-20230518101433042" style="zoom:50%;" />



<img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518101510368.png" alt="image-20230518101510368" style="zoom:50%;" />



这就是找包

### esbuild

![image-20230518102457287](https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/typora-user-images/image-20230518102457287.png)

## 打包脚本



<img src="/Users/zhm/Library/Application Support/typora-user-images/image-20230519101851334.png" alt="image-20230519101851334" style="zoom:50%;" />



<img src="/Users/zhm/Library/Application Support/typora-user-images/image-20230519102049696.png" alt="image-20230519102049696" style="zoom:50%;" />



![image-20230519102112297](/Users/zhm/Library/Application Support/typora-user-images/image-20230519102112297.png)

<img src="/Users/zhm/Library/Application Support/typora-user-images/image-20230519103512559.png" alt="image-20230519103512559" style="zoom:50%;" />



<img src="/Users/zhm/Library/Application Support/typora-user-images/image-20230519103544126.png" alt="image-20230519103544126" style="zoom:50%;" />

  

e

<img src="/Users/zhm/Library/Application Support/typora-user-images/image-20230519105159253.png" alt="image-20230519105159253" style="zoom:50%;" />











